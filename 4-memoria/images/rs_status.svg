<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="939px" preserveAspectRatio="none" style="width:494px;height:939px;" version="1.1" viewBox="0 0 494 939" width="494px" zoomAndPan="magnify"><defs><filter height="300%" id="fxw4888ctbj7z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="157" x="167.5" y="26.708">rx_status diagram</text><ellipse cx="348.5" cy="40.9531" fill="#000000" filter="url(#fxw4888ctbj7z)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="283.5" y="70.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="293.5" y="92.0918">posar direcció´ rx</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="299.5" y="124.9219"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="78" x="309.5" y="146.0605">activar timer</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="53" x="322" y="178.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="33" x="332" y="200.0293">i := 0</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="304" y="288.5698"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="314" y="309.7085">reset timer</text><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="327,398.249,370,398.249,382,410.249,370,422.249,327,422.249,315,410.249,327,398.249" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="327" y="414.0571">timeout</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="382" y="407.6548">yes</text><ellipse cx="422" cy="410.249" fill="none" filter="url(#fxw4888ctbj7z)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="422.5" cy="410.749" fill="#000000" filter="url(#fxw4888ctbj7z)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="316.5,342.5386,380.5,342.5386,392.5,354.5386,380.5,366.5386,316.5,366.5386,304.5,354.5386,316.5,342.5386" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="352.5" y="376.749">No</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="316.5" y="358.3467">byte rebut?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="283.5" y="351.9443">Yes</text><path d="M36,472.2646 L36,497.3975 A0,0 0 0 0 36,497.3975 L257,497.3975 A0,0 0 0 0 257,497.3975 L257,490.2646 L277,484.8311 L257,482.2646 L257,482.2646 L247,472.2646 L36,472.2646 A0,0 0 0 0 36,472.2646 " fill="#FBFB77" filter="url(#fxw4888ctbj7z)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M247,472.2646 L247,482.2646 L257,482.2646 L247,472.2646 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="42" y="489.3315">es llegeixen els bytes de status</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="277" y="467.8467"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="287" y="488.9854">status &lt;- byte llegit</text><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="336.5,232.8594,360.5,232.8594,372.5,244.8594,360.5,256.8594,336.5,256.8594,324.5,244.8594,336.5,232.8594" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="16" x="352.5" y="267.0698">&lt;4</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="347" y="248.6675">i</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="305.5" y="242.2651">i=4</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="304" y="599.5259"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="314" y="620.6646">reset timer</text><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="327,709.2051,370,709.2051,382,721.2051,370,733.2051,327,733.2051,315,721.2051,327,709.2051" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="327" y="725.0132">timeout</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="382" y="718.6108">yes</text><ellipse cx="422" cy="721.2051" fill="none" filter="url(#fxw4888ctbj7z)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="422.5" cy="721.7051" fill="#000000" filter="url(#fxw4888ctbj7z)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="316.5,653.4946,380.5,653.4946,392.5,665.4946,380.5,677.4946,316.5,677.4946,304.5,665.4946,316.5,653.4946" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="352.5" y="687.7051">No</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="316.5" y="669.3027">byte rebut?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="283.5" y="662.9004">Yes</text><path d="M60,783.2207 L60,808.3535 A0,0 0 0 0 60,808.3535 L257,808.3535 A0,0 0 0 0 257,808.3535 L257,801.2207 L277,795.7871 L257,793.2207 L257,793.2207 L247,783.2207 L60,783.2207 A0,0 0 0 0 60,783.2207 " fill="#FBFB77" filter="url(#fxw4888ctbj7z)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M247,783.2207 L247,793.2207 L257,793.2207 L247,783.2207 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="66" y="800.2876">es llegeixen els parametres</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="143" x="277" y="778.8027"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="287" y="799.9414">status &lt;- byte llegit</text><polygon fill="#FEFECE" filter="url(#fxw4888ctbj7z)" points="336.5,543.8154,360.5,543.8154,372.5,555.8154,360.5,567.8154,336.5,567.8154,324.5,555.8154,336.5,543.8154" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="352.5" y="578.0259">&lt; packet length</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="3" x="347" y="559.6235">i</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="19" x="305.5" y="553.2212">i=4</text><rect fill="#FEFECE" filter="url(#fxw4888ctbj7z)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="272" y="854.7715"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="133" x="282" y="875.9102">comprovar checksum</text><ellipse cx="348.5" cy="918.7402" fill="none" filter="url(#fxw4888ctbj7z)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="349" cy="919.2402" fill="#000000" filter="url(#fxw4888ctbj7z)" rx="6" ry="6" style="stroke: none; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="50.9531" y2="70.9531"/><polygon fill="#A80036" points="344.5,60.9531,348.5,70.9531,352.5,60.9531,348.5,64.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="104.9219" y2="124.9219"/><polygon fill="#A80036" points="344.5,114.9219,348.5,124.9219,352.5,114.9219,348.5,118.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="158.8906" y2="178.8906"/><polygon fill="#A80036" points="344.5,168.8906,348.5,178.8906,352.5,168.8906,348.5,172.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="422.249" y2="435.8467"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="456" y1="435.8467" y2="435.8467"/><polygon fill="#A80036" points="452,425.8467,456,415.8467,460,425.8467,456,421.8467" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="456" y1="354.5386" y2="435.8467"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="392.5" y1="354.5386" y2="354.5386"/><polygon fill="#A80036" points="402.5,350.5386,392.5,354.5386,402.5,358.5386,398.5,354.5386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="412" y1="410.249" y2="410.249"/><polygon fill="#A80036" points="402,406.249,412,410.249,402,414.249,406,410.249" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="366.5386" y2="398.249"/><polygon fill="#A80036" points="344.5,388.249,348.5,398.249,352.5,388.249,348.5,392.249" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304.5" x2="292.5" y1="354.5386" y2="354.5386"/><polygon fill="#A80036" points="288.5,411.8467,292.5,421.8467,296.5,411.8467,292.5,415.8467" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.5" x2="292.5" y1="354.5386" y2="447.8467"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.5" x2="348.5" y1="447.8467" y2="447.8467"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="447.8467" y2="467.8467"/><polygon fill="#A80036" points="344.5,457.8467,348.5,467.8467,352.5,457.8467,348.5,461.8467" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="322.5386" y2="342.5386"/><polygon fill="#A80036" points="344.5,332.5386,348.5,342.5386,352.5,332.5386,348.5,336.5386" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="256.8594" y2="288.5698"/><polygon fill="#A80036" points="344.5,278.5698,348.5,288.5698,352.5,278.5698,348.5,282.5698" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="501.8154" y2="511.8154"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="468" y1="511.8154" y2="511.8154"/><polygon fill="#A80036" points="464,407.4443,468,397.4443,472,407.4443,468,403.4443" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="468" x2="468" y1="244.8594" y2="511.8154"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="468" x2="372.5" y1="244.8594" y2="244.8594"/><polygon fill="#A80036" points="382.5,240.8594,372.5,244.8594,382.5,248.8594,378.5,244.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="324.5" x2="24" y1="244.8594" y2="244.8594"/><polygon fill="#A80036" points="20,393.4443,24,403.4443,28,393.4443,24,397.4443" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="24" y1="244.8594" y2="523.8154"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="24" x2="348.5" y1="523.8154" y2="523.8154"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="523.8154" y2="543.8154"/><polygon fill="#A80036" points="344.5,533.8154,348.5,543.8154,352.5,533.8154,348.5,537.8154" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="212.8594" y2="232.8594"/><polygon fill="#A80036" points="344.5,222.8594,348.5,232.8594,352.5,222.8594,348.5,226.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="733.2051" y2="746.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="456" y1="746.8027" y2="746.8027"/><polygon fill="#A80036" points="452,736.8027,456,726.8027,460,736.8027,456,732.8027" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="456" y1="665.4946" y2="746.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="456" x2="392.5" y1="665.4946" y2="665.4946"/><polygon fill="#A80036" points="402.5,661.4946,392.5,665.4946,402.5,669.4946,398.5,665.4946" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="382" x2="412" y1="721.2051" y2="721.2051"/><polygon fill="#A80036" points="402,717.2051,412,721.2051,402,725.2051,406,721.2051" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="677.4946" y2="709.2051"/><polygon fill="#A80036" points="344.5,699.2051,348.5,709.2051,352.5,699.2051,348.5,703.2051" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304.5" x2="292.5" y1="665.4946" y2="665.4946"/><polygon fill="#A80036" points="288.5,722.8027,292.5,732.8027,296.5,722.8027,292.5,726.8027" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.5" x2="292.5" y1="665.4946" y2="758.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="292.5" x2="348.5" y1="758.8027" y2="758.8027"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="758.8027" y2="778.8027"/><polygon fill="#A80036" points="344.5,768.8027,348.5,778.8027,352.5,768.8027,348.5,772.8027" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="633.4946" y2="653.4946"/><polygon fill="#A80036" points="344.5,643.4946,348.5,653.4946,352.5,643.4946,348.5,647.4946" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="567.8154" y2="599.5259"/><polygon fill="#A80036" points="344.5,589.5259,348.5,599.5259,352.5,589.5259,348.5,593.5259" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="812.7715" y2="822.7715"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="468" y1="822.7715" y2="822.7715"/><polygon fill="#A80036" points="464,718.4004,468,708.4004,472,718.4004,468,714.4004" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="468" x2="468" y1="555.8154" y2="822.7715"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="468" x2="372.5" y1="555.8154" y2="555.8154"/><polygon fill="#A80036" points="382.5,551.8154,372.5,555.8154,382.5,559.8154,378.5,555.8154" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="324.5" x2="48" y1="555.8154" y2="555.8154"/><polygon fill="#A80036" points="44,704.4004,48,714.4004,52,704.4004,48,708.4004" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="48" x2="48" y1="555.8154" y2="834.7715"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="48" x2="348.5" y1="834.7715" y2="834.7715"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="834.7715" y2="854.7715"/><polygon fill="#A80036" points="344.5,844.7715,348.5,854.7715,352.5,844.7715,348.5,848.7715" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="348.5" x2="348.5" y1="888.7402" y2="908.7402"/><polygon fill="#A80036" points="344.5,898.7402,348.5,908.7402,352.5,898.7402,348.5,902.7402" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
title rx_status diagram


start

:posar direcció´ rx;
:activar timer;
:i := 0;
while (i)  is (<4)
  :reset timer;
  while (byte rebut?) is (No)
    if (timeout) then (yes)
        stop
    endif
  endwhile (Yes)
  :status <- byte llegit;
endwhile (i=4)
note
    es llegeixen els bytes de status
end note

while (i)  is (< packet length)
  :reset timer;
  while (byte rebut?) is (No)
    if (timeout) then (yes)
        stop
    endif
  endwhile (Yes)
  :status <- byte llegit;
endwhile (i=4)
note
    es llegeixen els parametres
end note

:comprovar checksum;

stop
@enduml

PlantUML version 1.2018.04beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>